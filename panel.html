<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Panel Alertes</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Panel Alertes</h1>
  <form id="alertForm">
    <select name="type">
      <!-- 60 alertes FR-Alerte -->
      <option value="1">Tempête</option>
      <option value="2">Orage</option>
      <option value="3">Inondation</option>
      <option value="4">Tornade</option>
      <!-- ... jusqu'à 60 -->
    </select>
    <input type="text" name="message" placeholder="Message" required>
    <button type="submit">Déclencher</button>
  </form>

  <script>
    const form = document.getElementById("alertForm");
    form.addEventListener("submit", async e => {
      e.preventDefault();
      const data = {
        type: form.type.value,
        message: form.message.value
      };
      const res = await fetch("/alert", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify(data)
      });
      alert(await res.text());
    });
  </script>
</body>
</html>
